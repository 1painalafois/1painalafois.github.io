:root{
  --bg:#fbf8f4;
  --paper:#ffffff;
  --ink:#2a1f16;
  --muted:#6d5b4a;
  --brand:#a36a3f;
  --brand-700:#8a5630;
  --accent:#a3c4dc;
  --accent-700:#6b9bbd;
  --ring: rgba(163,106,63,.35);
  --radius: 16px;
  --shadow: 0 10px 30px rgba(18,16,14,0.08);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;
  background:var(--bg);
  color:var(--ink);
  line-height:1.6;
}
.container{width:min(1100px, 92%); margin-inline:auto}
.flow > * + * {margin-top:clamp(0.6rem,1vw,1rem)}
.tiny{font-size:.85rem; color:var(--muted)}

.site-header{position:sticky; top:0; z-index:5; background:linear-gradient(180deg, #fff 0%, #fff8 100%); backdrop-filter:saturate(140%) blur(8px); border-bottom:1px solid #00000010;}
.site-header .container{display:grid; grid-template-columns:auto 1fr auto; gap:1rem; align-items:center; padding: .8rem 0;}
.brand{display:flex; gap:.6rem; align-items:center; text-decoration:none; color:var(--ink); font-weight:700}
.brand-logo{font-size:1.6rem}
.brand-text{font-size:1.1rem}
.nav{display:flex; gap:.6rem; flex-wrap:wrap}
.nav-link{padding:.5rem .8rem; border-radius:var(--radius); text-decoration:none; color:var(--ink);}
.nav-link:hover{background:#00000006}
.search{display:flex; gap:.5rem}
.search-input{padding:.6rem .8rem; border-radius:12px; border:1px solid #00000020; background:#fff; min-width:220px; outline-color:var(--ring);}
.btn{padding:.6rem .9rem; border-radius:12px; border:1px solid transparent; cursor:pointer; box-shadow:var(--shadow); transition:transform .05s ease, box-shadow .2s ease;}
.btn:active{transform:translateY(1px)}
.btn-primary{background:var(--brand); color:#fff}
.btn-primary:hover{background:var(--brand-700)}
.btn-outline{background:#fff; color:var(--brand); border-color:var(--brand); box-shadow:none}
.btn-outline:hover{background:#fff5e9}

.hero{display:grid; gap:1rem; grid-template-columns: 1.2fr .8fr; align-items:center; padding: 2rem 0 1.5rem;}
.hero .card{background:var(--paper); padding:1.4rem; border-radius:var(--radius); box-shadow:var(--shadow)}
.kicker{color:var(--brand); font-weight:700; letter-spacing:.04em; text-transform:uppercase; font-size:.85rem}
.display{font-size: clamp(1.6rem, 2.8vw, 2.6rem); line-height:1.15; margin: .2rem 0 .6rem}
.subtitle{color:var(--muted)}

.grid{display:grid; gap:1rem; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));}
.card{background:var(--paper); border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden; display:flex; flex-direction:column}
.card-media{aspect-ratio:16/10; background:linear-gradient(135deg, #f3e6da, #fff)}
.card-body{padding:1rem}
.card-title{margin:0 0 .2rem; font-weight:700}
.card-meta{font-size:.9rem; color:var(--muted)}
.badge{display:inline-block; padding:.2rem .5rem; border-radius:999px; font-size:.8rem; background:var(--accent); color:#08344f;}
.section{margin: 1.2rem 0;}
.section h3{margin:0 0 .6rem;}
.site-footer{margin-top:2rem; padding:1.4rem 0; background:#fff; border-top:1px solid #00000010}
.footer-grid{display:grid; gap:1rem; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); align-items:start}
.notice{background: #fff7ef; border:1px dashed #00000020; padding:.9rem; border-radius:12px;}
.hidden{display:none !important}
.center{text-align:center}
.table{width:100%; border-collapse:collapse; background:#fff; border-radius:12px; overflow:hidden; box-shadow:var(--shadow)}
.table th,.table td{padding:.8rem; border-bottom:1px solid #00000010}
.table th{text-align:left; background:#fffaf3}

/* Markdown body */
.markdown-body{
  background:#fff; border-radius:var(--radius); padding:1rem; box-shadow:var(--shadow);
}
.markdown-body h1,.markdown-body h2,.markdown-body h3{line-height:1
/* ===== TOC ===== */
.toc-wrap{
  background:#fff; border-radius:var(--radius); box-shadow:var(--shadow);
  padding: .8rem 1rem; margin: .6rem 0 1rem; border:1px solid #00000010;
}
.toc-title{font-weight:700; margin-bottom:.4rem; color:var(--brand)}
.toc{display:flex; flex-direction:column; gap:.25rem}
.toc-link{font-size:.95rem; text-decoration:none; color:var(--ink)}
.toc-link:hover{color:var(--brand)}
.toc-link.level-1{font-weight:700}
.toc-link.level-2{padding-left:.6rem}
.toc-link.level-3{padding-left:1.2rem; font-size:.9rem}

/* ===== Markdown media ===== */
.md-figure{margin:1rem 0}
.md-figure img{width:100%; height:auto; display:block; border-radius:12px}
.md-figure figcaption{font-size:.85rem; color:var(--muted); margin-top:.3rem}

.md-video, .md-video-file{width:100%; aspect-ratio:16/9; background:#000; border-radius:12px; overflow:hidden; box-shadow:var(--shadow); margin:1rem 0}
.md-video iframe{width:100%; height:100%; border:0; display:block}
.md-video-file{height:auto; aspect-ratio:auto}
.md-video-file video, .md-video-file source{width:100%; display:block}
